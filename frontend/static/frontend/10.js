(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{120:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return f}));var r=n(20),a=n.n(r),o=n(4),c=n(28),u=function(e){return function(t){var n=e;console.log(n),a.a.post("/api/sales",n).then((function(e){t({type:o.c,payload:e.data.sale}),t(Object(c.a)({addSale:"Venta registrada"}))})).catch((function(e){t({type:o.i}),t(Object(c.b)(e.response.data,e.response.status))}))}},l=function(e){return function(t){var n=e;a.a.post("/api/buys",n).then((function(e){t({type:o.a,payload:e.data.buy}),t(Object(c.a)({addSale:"Compra registrada"}))})).catch((function(e){t({type:o.i}),t(Object(c.b)(e.response.data,e.response.status))}))}},i=function(e,t){return function(n){a.a.get("/api/categories/".concat(e,"/").concat(t,"/products")).then((function(e){n({type:o.l,payload:e.data.products})})).catch((function(e){return console.log(e)}))}},s=function(){return function(e){e({type:o.q,payload:[]})}},p=function(){return function(e){a.a.get("/api/sales/list").then((function(t){e({type:o.m,payload:t.data.sales})})).catch((function(e){return console.log(e)}))}},f=function(){return function(e){a.a.get("/api/buys/list").then((function(t){e({type:o.j,payload:t.data.buys})})).catch((function(e){return console.log(e)}))}}},213:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(113),c=n(169),u=n(168),l=n(111),i=n(123),s=n(112),p=n(211),f=n(124),m=n.n(f),y=n(210),d=n(133),b=n(120),h=n(17);n(67);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(b,e);var t,n,r,f=P(b);function b(){var e,t;w(this,b);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return j(t,(e=t=f.call.apply(f,[this].concat(r)),t.state={amount:0,payment:0,product:{}},t.onAddSale=function(){var e=t.state,n=e.product,r=e.amount,a=e.payment,o=(new Date).toLocaleString(),c={action:{user:null,invoice:o,duties_list:[]},details:[{product:n.product.id,presentation:n.id,amount:parseFloat(r)}],pays:[{code:o,user:null,payment:a}]};t.props.addSale(c)},t.onChange=function(e){var n=e.target,r=n.name,a=n.value,o=t.state.product;""===a&&(a=0),t.setState(E({},r,a),(function(){"amount"===r&&t.setState({payment:a*o.price_sale})}))},e))}return t=b,(n=[{key:"componentDidMount",value:function(){this.props.getProducts("solo",0),this.props.getSales()}},{key:"componentWillUnmount",value:function(){this.props.resetProducts()}},{key:"render",value:function(){var e=this,t=this.state,n=t.amount,r=t.payment,f=this.props,b=f.products,h=f.sales,v=function(e){return e.target.select()},E=[{Header:"ID",accessor:"id"},{Header:"No.",accesor:"invoice",Cell:function(e){return a.a.createElement("span",null,e.original.invoice)}},{Header:"Total",accessor:"total",Cell:function(e){return a.a.createElement(m.a,{value:e.value,displayType:"text",thousandSeparator:!0,prefix:"$"})}}];return a.a.createElement(o.a,null,a.a.createElement(c.a,{className:"mt-5 mb-2"},a.a.createElement(c.a.Header,null,"Venta rápida"),a.a.createElement(c.a.Body,null,a.a.createElement(u.a,null,a.a.createElement(l.a,null,a.a.createElement(i.a,{md:3,lg:4},a.a.createElement(u.a.Group,null,a.a.createElement(u.a.Label,null,"Producto"),a.a.createElement(p.a,{id:"combo-box-demo",options:b,getOptionLabel:function(e){return e.product.name+" "+e.presentation.name},onChange:function(t,r){e.setState({product:r,payment:n*r.price_sale})},style:{width:300},renderOption:function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"w-100"},a.a.createElement("span",null,e.product.name," ",e.presentation.name),a.a.createElement("br",null),a.a.createElement("span",null,"$",e.price_sale),a.a.createElement("hr",null)))},renderInput:function(e){return a.a.createElement(y.a,g({},e,{label:"Combo box",name:"product",variant:"outlined"}))}}))),a.a.createElement(i.a,{md:3,lg:3},a.a.createElement(u.a.Group,null,a.a.createElement(u.a.Label,null,"Cantidad"),a.a.createElement(u.a.Control,{type:"number",placeholder:"Ej. 12",name:"amount",value:n,onFocus:v,onChange:this.onChange}))),a.a.createElement(i.a,{md:3,lg:3},a.a.createElement(u.a.Group,null,a.a.createElement(u.a.Label,null,"Valor"),a.a.createElement(u.a.Control,{type:"number",placeholder:"Ej. 2000",name:"payment",value:r,onFocus:v,onChange:this.onChange}))),a.a.createElement(i.a,{md:3,lg:2,className:"align-self-end"},a.a.createElement(u.a.Group,null,a.a.createElement(s.a,{className:"w-100",onClick:this.onAddSale},"+"))))))),a.a.createElement("span",{className:"h5"},"Ventas del día"),a.a.createElement(d.a,{className:"mt-2",data:h,columns:E,defaultPageSize:5,previousText:"Atras",nextText:"Siguiente",pageText:"Página",ofText:"de",rowsText:"filas"}))}}])&&O(t.prototype,n),r&&O(t,r),b}(r.Component),x=Object(h.b)((function(e){return{products:e.inventory.products,sales:e.inventory.sales,is_success:e.inventory.is_success}}),{addSale:b.b,getProducts:b.d,getSales:b.e,resetProducts:b.f})(C);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var a=F(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(b,e);var t,n,r,f=L(b);function b(){var e,t;N(this,b);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return A(t,(e=t=f.call.apply(f,[this].concat(r)),t.state={amount:0,payment:0,product:{}},t.onAddBuy=function(){var e=t.state,n=e.product,r=e.amount,a=e.payment,o=(new Date).toLocaleString(),c={action:{user:null,invoice:o,duties_list:[]},details:[{product:n.product.id,presentation:n.id,amount:parseFloat(r)}],pays:[{code:o,user:null,payment:a}]};t.props.addBuy(c)},t.onChange=function(e){var n=e.target,r=n.name,a=n.value,o=t.state.product;""===a&&(a=0),t.setState(R({},r,a),(function(){"amount"===r&&t.setState({payment:a*o.product.price_buy})}))},e))}return t=b,(n=[{key:"componentDidMount",value:function(){this.props.getProducts("solo",0),this.props.getBuys()}},{key:"componentWillUnmount",value:function(){this.props.resetProducts()}},{key:"render",value:function(){var e=this,t=this.state,n=t.amount,r=t.payment,f=this.props,b=f.products,h=f.buys,v=function(e){return e.target.select()},g=[{Header:"ID",accessor:"id"},{Header:"No.",accesor:"invoice",Cell:function(e){return a.a.createElement("span",null,e.original.invoice)}},{Header:"Total",accessor:"total",Cell:function(e){return a.a.createElement(m.a,{value:e.value,displayType:"text",thousandSeparator:!0,prefix:"$"})}}];return a.a.createElement(o.a,null,a.a.createElement(c.a,{className:"mt-5 mb-2"},a.a.createElement(c.a.Header,null,"Compra rápida"),a.a.createElement(c.a.Body,null,a.a.createElement(u.a,null,a.a.createElement(l.a,null,a.a.createElement(i.a,{md:3,lg:4},a.a.createElement(u.a.Group,null,a.a.createElement(u.a.Label,null,"Producto"),a.a.createElement(p.a,{id:"combo-box-demo",options:b,getOptionLabel:function(e){return e.product.name+" "+e.presentation.name},onChange:function(t,r){e.setState({product:r,payment:n*r.product.price_buy})},style:{width:300},renderOption:function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"w-100"},a.a.createElement("span",null,e.product.name," ",e.presentation.name),a.a.createElement("br",null),a.a.createElement("span",null,"$",e.price_sale),a.a.createElement("hr",null)))},renderInput:function(e){return a.a.createElement(y.a,k({},e,{label:"Combo box",name:"product",variant:"outlined"}))}}))),a.a.createElement(i.a,{md:3,lg:3},a.a.createElement(u.a.Group,null,a.a.createElement(u.a.Label,null,"Cantidad"),a.a.createElement(u.a.Control,{type:"number",placeholder:"Ej. 12",name:"amount",value:n,onFocus:v,onChange:this.onChange}))),a.a.createElement(i.a,{md:3,lg:3},a.a.createElement(u.a.Group,null,a.a.createElement(u.a.Label,null,"Valor"),a.a.createElement(u.a.Control,{type:"number",placeholder:"Ej. 2000",name:"payment",value:r,onFocus:v,onChange:this.onChange}))),a.a.createElement(i.a,{md:3,lg:2,className:"align-self-end"},a.a.createElement(u.a.Group,null,a.a.createElement(s.a,{className:"w-100",onClick:this.onAddBuy},"+"))))))),a.a.createElement("span",{className:"h5"},"Compras del día"),a.a.createElement(d.a,{className:"mt-2",data:h,columns:g,defaultPageSize:5,previousText:"Atras",nextText:"Siguiente",pageText:"Página",ofText:"de",rowsText:"filas"}))}}])&&D(t.prototype,n),r&&D(t,r),b}(r.Component),G=Object(h.b)((function(e){return{products:e.inventory.products,buys:e.inventory.buys}}),{addBuy:b.a,getProducts:b.d,resetProducts:b.f,getBuys:b.c})(B),U=(n(156),n(3)),V=n.n(U);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var a=J(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(u,e);var t,n,r,c=W(u);function u(){return I(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.getProducts("pan",2)}},{key:"componentWillUnmount",value:function(){this.props.resetProducts()}},{key:"render",value:function(){var e=this.props.products,t=[{Header:"Nombre",accessor:"name",Cell:function(e){return a.a.createElement("span",{className:"capitalize"},e.value)}},{id:"estado",Header:"Stock %",accessor:function(e){return 100*(e.stock/e.capacity).toFixed(2)},Cell:function(e){return a.a.createElement("span",null,e.value,"%")}},{Header:"Stock",accessor:"stock"},{Header:"Capacidad",accessor:"capacity"}];return a.a.createElement(o.a,{className:"h-100 py-5"},a.a.createElement("span",{className:"h4"},"Lista de productos"),a.a.createElement(d.a,{getTdProps:function(e,t,n,r){return void 0!==t?{style:{background:t.row.stock<t.row.capacity/2?"rgba(251, 14, 4, 0.5)":"rgba(89, 209, 104, 0.5)"}}:{style:{background:"white"}}},className:"mt-2",data:e,columns:t,defaultPageSize:5,previousText:"Atras",nextText:"Siguiente",pageText:"Página",ofText:"de",rowsText:"filas"}))}}])&&$(t.prototype,n),r&&$(t,r),u}(r.Component);K.propTypes={products:V.a.array.isRequired};var Q=Object(h.b)((function(e){return{products:e.inventory.products}}),{getProducts:b.d,resetProducts:b.f})(K);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var a=re(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(c,e);var t,n,r,o=te(c);function c(){var e,t;Y(this,c);for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return ne(t,(e=t=o.call.apply(o,[this].concat(r)),t.onUpdateProducts=function(){switch(t.props.match.path){case"/ventas":return a.a.createElement(x,null);case"/compras":return a.a.createElement(G,null);case"/inventario":return a.a.createElement(Q,null);default:return a.a.createElement(a.a.Fragment,null)}},e))}return t=c,(n=[{key:"render",value:function(){return a.a.createElement("div",{style:{height:this.props.height+"px"}},a.a.createElement(this.onUpdateProducts,null))}}])&&Z(t.prototype,n),r&&Z(t,r),c}(r.Component);t.default=ae}}]);