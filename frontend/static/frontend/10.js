(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{120:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s}));var r=n(20),a=n.n(r),o=n(4),c=n(28),l=function(e){return function(t){var n=e;console.log(n),a.a.post("/api/sales",n).then((function(e){t({type:o.c,payload:e.data.sale}),t(Object(c.a)({addSale:"Venta registrada"}))})).catch((function(e){t({type:o.i}),t(Object(c.b)(e.response.data,e.response.status))}))}},u=function(e){return function(t){var n=e;a.a.post("/api/buys",n).then((function(e){t({type:o.a,payload:e.data.buy}),t(Object(c.a)({addSale:"Compra registrada"}))})).catch((function(e){t({type:o.i}),t(Object(c.b)(e.response.data,e.response.status))}))}},i=function(e,t){return function(n){a.a.get("/api/categories/".concat(e,"/").concat(t,"/products")).then((function(e){n({type:o.k,payload:e.data.products})})).catch((function(e){return console.log(e)}))}},s=function(){return function(e){e({type:o.o,payload:[]})}}},214:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(113),c=n(170),l=n(168),u=n(111),i=n(123),s=n(112),p=n(154),f=n(212),m=n(211),d=n(120),y=n(17);n(67);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var a=P(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(y,e);var t,n,r,d=w(y);function y(){var e,t;v(this,y);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return S(t,(e=t=d.call.apply(d,[this].concat(r)),t.state={amount:0,payment:0,product:{}},t.onAddSale=function(){var e=t.state,n=e.product,r=e.amount,a=e.payment,o=(new Date).toLocaleString(),c={action:{user:null,invoice:o,duties_list:[]},details:[{product:n.product.id,presentation:n.presentation.id,amount:parseFloat(r)}],pays:[{code:o,user:null,payment:a}]};t.props.addSale(c)},t.onChange=function(e){var n=e.target,r=n.name,a=n.value,o=t.state.product;""===a&&(a=0),t.setState(E({},r,a),(function(){"amount"===r&&t.setState({payment:a*o.price_sale})}))},e))}return t=y,(n=[{key:"componentDidMount",value:function(){this.props.getProducts("solo",0)}},{key:"componentWillUnmount",value:function(){this.props.resetProducts()}},{key:"render",value:function(){var e=this,t=this.state,n=t.amount,r=t.payment,d=this.props.products,y=function(e){return e.target.select()};return a.a.createElement(o.a,null,a.a.createElement(c.a,{className:"mt-5 mb-2"},a.a.createElement(c.a.Header,null,"Venta rápida"),a.a.createElement(c.a.Body,null,a.a.createElement(l.a,null,a.a.createElement(u.a,null,a.a.createElement(i.a,{md:3,lg:4},a.a.createElement(l.a.Group,null,a.a.createElement(l.a.Label,null,"Producto"),a.a.createElement(f.a,{id:"combo-box-demo",options:d,getOptionLabel:function(e){return e.product.name+" "+e.presentation.name},onChange:function(t,r){e.setState({product:r,payment:n*r.price_sale})},style:{width:300},renderOption:function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"w-100"},a.a.createElement("span",null,e.product.name," ",e.presentation.name),a.a.createElement("br",null),a.a.createElement("span",null,"$",e.price_sale),a.a.createElement("hr",null)))},renderInput:function(e){return a.a.createElement(m.a,h({},e,{label:"Combo box",name:"product",variant:"outlined"}))}}))),a.a.createElement(i.a,{md:3,lg:3},a.a.createElement(l.a.Group,null,a.a.createElement(l.a.Label,null,"Cantidad"),a.a.createElement(l.a.Control,{type:"number",placeholder:"Ej. 12",name:"amount",value:n,onFocus:y,onChange:this.onChange}))),a.a.createElement(i.a,{md:3,lg:3},a.a.createElement(l.a.Group,null,a.a.createElement(l.a.Label,null,"Valor"),a.a.createElement(l.a.Control,{type:"number",placeholder:"Ej. 2000",name:"payment",value:r,onFocus:y,onChange:this.onChange}))),a.a.createElement(i.a,{md:3,lg:2,className:"align-self-end"},a.a.createElement(l.a.Group,null,a.a.createElement(s.a,{className:"w-100",onClick:this.onAddSale},"+"))))))),a.a.createElement("span",{className:"h5"},"Ventas del día"),a.a.createElement(p.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"#"),a.a.createElement("th",null,"First Name"),a.a.createElement("th",null,"Last Name"),a.a.createElement("th",null,"Username"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"1"),a.a.createElement("td",null,"Mark"),a.a.createElement("td",null,"Otto"),a.a.createElement("td",null,"@mdo")),a.a.createElement("tr",null,a.a.createElement("td",null,"2"),a.a.createElement("td",null,"Jacob"),a.a.createElement("td",null,"Thornton"),a.a.createElement("td",null,"@fat")),a.a.createElement("tr",null,a.a.createElement("td",null,"3"),a.a.createElement("td",{colSpan:"2"},"Larry the Bird"),a.a.createElement("td",null,"@twitter")))))}}])&&g(t.prototype,n),r&&g(t,r),y}(r.Component),_=Object(y.b)((function(e){return{products:e.inventory.products,is_success:e.inventory.is_success}}),{addSale:d.b,getProducts:d.c,resetProducts:d.d})(j);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var a=F(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(y,e);var t,n,r,d=L(y);function y(){var e,t;x(this,y);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return D(t,(e=t=d.call.apply(d,[this].concat(r)),t.state={amount:0,payment:0,product:{}},t.onAddBuy=function(){var e=t.state,n=e.product,r=e.amount,a=e.payment,o=(new Date).toLocaleString(),c={action:{user:null,invoice:o,duties_list:[]},details:[{product:n.product.id,presentation:n.presentation.id,amount:parseFloat(r)}],pays:[{code:o,user:null,payment:a}]};t.props.addBuy(c)},t.onChange=function(e){var n=e.target,r=n.name,a=n.value,o=t.state.product;""===a&&(a=0),t.setState(R({},r,a),(function(){"amount"===r&&t.setState({payment:a*o.product.price_buy})}))},e))}return t=y,(n=[{key:"componentDidMount",value:function(){this.props.getProducts("solo",0)}},{key:"componentWillUnmount",value:function(){this.props.resetProducts()}},{key:"render",value:function(){var e=this,t=this.state,n=t.amount,r=t.payment,d=this.props.products,y=function(e){return e.target.select()};return a.a.createElement(o.a,null,a.a.createElement(c.a,{className:"mt-5 mb-2"},a.a.createElement(c.a.Header,null,"Compra rápida"),a.a.createElement(c.a.Body,null,a.a.createElement(l.a,null,a.a.createElement(u.a,null,a.a.createElement(i.a,{md:3,lg:4},a.a.createElement(l.a.Group,null,a.a.createElement(l.a.Label,null,"Producto"),a.a.createElement(f.a,{id:"combo-box-demo",options:d,getOptionLabel:function(e){return e.product.name+" "+e.presentation.name},onChange:function(t,r){e.setState({product:r,payment:n*r.product.price_buy})},style:{width:300},renderOption:function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"w-100"},a.a.createElement("span",null,e.product.name," ",e.presentation.name),a.a.createElement("br",null),a.a.createElement("span",null,"$",e.price_sale),a.a.createElement("hr",null)))},renderInput:function(e){return a.a.createElement(m.a,k({},e,{label:"Combo box",name:"product",variant:"outlined"}))}}))),a.a.createElement(i.a,{md:3,lg:3},a.a.createElement(l.a.Group,null,a.a.createElement(l.a.Label,null,"Cantidad"),a.a.createElement(l.a.Control,{type:"number",placeholder:"Ej. 12",name:"amount",value:n,onFocus:y,onChange:this.onChange}))),a.a.createElement(i.a,{md:3,lg:3},a.a.createElement(l.a.Group,null,a.a.createElement(l.a.Label,null,"Valor"),a.a.createElement(l.a.Control,{type:"number",placeholder:"Ej. 2000",name:"payment",value:r,onFocus:y,onChange:this.onChange}))),a.a.createElement(i.a,{md:3,lg:2,className:"align-self-end"},a.a.createElement(l.a.Group,null,a.a.createElement(s.a,{className:"w-100",onClick:this.onAddBuy},"+"))))))),a.a.createElement("span",{className:"h5"},"Compras del día"),a.a.createElement(p.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"#"),a.a.createElement("th",null,"First Name"),a.a.createElement("th",null,"Last Name"),a.a.createElement("th",null,"Username"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"1"),a.a.createElement("td",null,"Mark"),a.a.createElement("td",null,"Otto"),a.a.createElement("td",null,"@mdo")),a.a.createElement("tr",null,a.a.createElement("td",null,"2"),a.a.createElement("td",null,"Jacob"),a.a.createElement("td",null,"Thornton"),a.a.createElement("td",null,"@fat")),a.a.createElement("tr",null,a.a.createElement("td",null,"3"),a.a.createElement("td",{colSpan:"2"},"Larry the Bird"),a.a.createElement("td",null,"@twitter")))))}}])&&N(t.prototype,n),r&&N(t,r),y}(r.Component),B=Object(y.b)((function(e){return{products:e.inventory.products}}),{addBuy:d.a,getProducts:d.c,resetProducts:d.d})(A),G=n(169),U=(n(155),n(3)),H=n.n(U);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var a=$(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(l,e);var t,n,r,c=z(l);function l(){return V(this,l),c.apply(this,arguments)}return t=l,(n=[{key:"componentDidMount",value:function(){this.props.getProducts("pan",2)}},{key:"componentWillUnmount",value:function(){this.props.resetProducts()}},{key:"render",value:function(){var e=this.props.products,t=[{Header:"Nombre",accessor:"name",Cell:function(e){return a.a.createElement("span",{className:"capitalize"},e.value)}},{id:"estado",Header:"Stock %",accessor:function(e){return 100*(e.stock/e.capacity).toFixed(2)},Cell:function(e){return a.a.createElement("span",null,e.value,"%")}},{Header:"Stock",accessor:"stock"},{Header:"Capacidad",accessor:"capacity"}];return a.a.createElement(o.a,{className:"h-100 py-5"},a.a.createElement("span",{className:"h4"},"Lista de productos"),a.a.createElement(G.a,{getTdProps:function(e,t,n,r){return void 0!==t?{style:{background:t.row.stock<t.row.capacity/2?"rgba(251, 14, 4, 0.5)":"rgba(89, 209, 104, 0.5)"}}:{style:{background:"white"}}},className:"mt-2",data:e,columns:t,defaultPageSize:5,previousText:"Atras",nextText:"Siguiente",pageText:"Página",ofText:"de",rowsText:"filas"}))}}])&&J(t.prototype,n),r&&J(t,r),l}(r.Component);q.propTypes={products:H.a.array.isRequired};var K=Object(y.b)((function(e){return{products:e.inventory.products}}),{getProducts:d.c,resetProducts:d.d})(q);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var a=ne(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return te(this,n)}}function te(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(c,e);var t,n,r,o=ee(c);function c(){var e,t;X(this,c);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return te(t,(e=t=o.call.apply(o,[this].concat(r)),t.onUpdateProducts=function(){switch(t.props.match.path){case"/ventas":return a.a.createElement(_,null);case"/compras":return a.a.createElement(B,null);case"/inventario":return a.a.createElement(K,null);default:return a.a.createElement(a.a.Fragment,null)}},e))}return t=c,(n=[{key:"render",value:function(){return a.a.createElement("div",{style:{height:this.props.height+"px"}},a.a.createElement(this.onUpdateProducts,null))}}])&&Y(t.prototype,n),r&&Y(t,r),c}(r.Component);t.default=re}}]);